(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{lV1C:function(e,t,a){},zouv:function(e,t,a){"use strict";(function(e){var l=m(a("fZjL")),n=m(a("Zx67")),u=m(a("kiBT")),o=m(a("OvRC")),i=m(a("pFYg")),c=m(a("C4MV")),s=m(a("woOf"));function m(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),(0,c.default)(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),p=a("U7vG"),v=g(p),f=(a("d2xe"),a("Zfgq"),a("4n+p"),a("6quk")),h=g(a("mtWM")),y=a("5qLU");a("qeJi");function g(e){return e&&e.__esModule?e:{default:e}}a("lV1C");var E={submit:{url:y.WXAPI+"/questionnaire/save",method:"post"}},b=function(t){function a(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}(this,(a.__proto__||(0,n.default)(a)).call(this,t));return u.handleChange=function(e,t,a){var n=u.state.answers;switch(a){case"radio":!n[e].option[t].type&&(0,l.default)(n[e].select)[0]&&n[e].option[(0,l.default)(n[e].select)[0]].inputVal&&(n[e].option[(0,l.default)(n[e].select)[0]].inputVal=""),n[e].select={},n[e].select[t]=!0;break;case"checkbox":n[e].select[t]?(delete n[e].select[t],n[e].option[t].type&&(n[e].option[t].inputVal="")):n[e].select[t]=!0}u.setState({answers:n})},u.handleCustomInput=function(e,t,a,l){var n=u.state.answers;"radio"==l&&(n[t].select={}),e.target.value.length>20||(n[t].option[a].inputVal=e.target.value,n[t].select[a]=e.target.value,u.setState({answers:n}))},u.handlePhoneNum=function(e){var t=e.target.value;u.setState({phone:t})},u.handlePhoneNumBlur=function(e){11!==e.target.value.length?u.setState({phoneFlag:!0}):u.setState({phoneFlag:!1})},u.submit=function(){for(var t=u,a=[],n=u.state,o=n.answers,i=n.phone,c=0;c<o.length;c++){for(var s=(0,l.default)(o[c].select)[0],m=(0,l.default)(o[c].select),d=0;d<m.length;d++)if(""==o[c].option[m[d]].inputVal)return u.setState({submitFlag:!0}),void e(window).scrollTop(e(".each-one"+c)[0].offsetTop);if(3==c&&!((0,l.default)(o[c].select).length>=2&&o[c].select[9]&&o[c].option[9].inputVal)||8==c&&!((0,l.default)(o[c].select).length>=2&&o[c].select[4]&&o[c].option[4].inputVal)||!(0,l.default)(o[c].select).length||o[c].option[s].type&&"boolean"==typeof o[c].select[s])return u.setState({submitFlag:!0}),void e(window).scrollTop(e(".each-one"+c)[0].offsetTop)}11===i.length?(u.setState({phoneFlag:!1}),o.map(function(e,t){a.push({id:e.id,type:e.type,select:e.select})}),h.default.request(r({},E.submit,{data:{answers:a,phone:i}})).then(function(e){e.data;t.setState({guideLead:!0})}).catch(function(e){console.log(e),f.tip.show({msg:e.response.data.message||"服务器繁忙"})})):u.setState({phoneFlag:!0})},u.state={answers:[{id:1,title:"您平时多久会来一次中贸广场？",type:"radio",option:[{num:"0",value:"每周都来及更高频率"},{num:"1",value:"一个月一两次"},{num:"2",value:"三个月一两次"},{num:"3",value:"偶然来一次"},{num:"4",value:"其他，请填写",type:"custom",inputVal:""}],select:{}},{id:2,title:"您来中贸广场的原因？",type:"radio",option:[{num:"0",value:"家住附近，临近购物"},{num:"1",value:"上班族，上班顺便来逛一下"},{num:"2",value:"学生，出于娱乐游玩目的"},{num:"3",value:"医疗工作者，附近医院上班"},{num:"4",value:"游客，旅游经过"},{num:"5",value:"其他，请填写",type:"custom",inputVal:""}],select:{}},{id:3,title:"日常购物当中，您在饮品方面购买频率最高的是？[可多选]",type:"checkbox",option:[{num:"0",value:"咖啡"},{num:"1",value:"水果茶"},{num:"2",value:"奶茶"},{num:"3",value:"鲜榨果汁"},{num:"4",value:"新鲜水果"},{num:"5",value:"其他，请填写",type:"custom",inputVal:""}],select:{}},{id:4,title:"日常购物当中，您购买消费最多的品类？[可多选]",type:"checkbox",option:[{num:"0",value:"家纺床品"},{num:"1",value:"生活日用"},{num:"2",value:"杯具茶具"},{num:"3",value:"软装饰品"},{num:"4",value:"餐具用品"},{num:"5",value:"厨房用具"},{num:"6",value:"卫浴系列"},{num:"7",value:"收纳系列"},{num:"8",value:"其他，请填写",type:"custom",inputVal:""},{num:"9",value:"请任意填写三款您想购买的产品",type:"custom",title:"产品",inputVal:""}],select:{}},{id:5,title:"您的家居床品多久购买一次?",type:"radio",option:[{num:"0",value:"每季一次"},{num:"1",value:"每半年一次"},{num:"2",value:"每年一次"},{num:"3",value:"其他，请填写",type:"custom",inputVal:""}],select:{}},{id:6,title:"您的家居床品四件套每次花费多少？",type:"radio",option:[{num:"0",value:"200元以下"},{num:"1",value:"200元-400元"},{num:"2",value:"500元-1000元"},{num:"3",value:"1000元以上"},{num:"4",value:"其他，请填写",type:"custom",inputVal:""}],select:{}},{id:7,title:"如果泰然城有您心仪的数码产品，您希望品牌是？[可多选]",type:"checkbox",option:[{num:"0",value:"Sony"},{num:"1",value:"Beats"},{num:"2",value:"Bose"},{num:"3",value:"漫步者"},{num:"4",value:"其他，请填写",type:"custom",inputVal:""}],select:{}},{id:8,title:"如果泰然城有您喜爱的数码产品，您希望品类是？[可多选]",type:"checkbox",option:[{num:"0",value:"耳机"},{num:"1",value:"蓝牙音箱"},{num:"2",value:"鼠标键盘"},{num:"3",value:"智能手环"},{num:"4",value:"其他，请填写",type:"custom",inputVal:""}],select:{}},{id:9,title:"如果泰然城有您喜爱的进口商品，您希望的品类是？[可多选]",type:"checkbox",option:[{num:"0",value:"进口美食"},{num:"1",value:"进口生活用品"},{num:"2",value:"进口小家电"},{num:"3",value:"其他，请填写",type:"custom",inputVal:""},{num:"4",value:"具体商品，请填写",type:"custom",inputVal:"",title:"产品"}],select:{}},{id:10,title:"您的性别:",type:"radio",option:[{num:"0",value:"男"},{num:"1",value:"女"}],select:{}},{id:11,title:"您的年龄:",type:"radio",option:[{num:"0",value:"20以下"},{num:"1",value:"20-30"},{num:"2",value:"30-40"},{num:"3",value:"40以上"}],select:{}},{id:12,title:"您的居住位置距离中贸广场的距离？",type:"radio",option:[{num:"0",value:"1公里范围内"},{num:"1",value:"3公里范围内"},{num:"2",value:"10公里范围内（公交车30分钟内到达）"},{num:"3",value:"20公里范围内（公交车1小时内到达）"},{num:"4",value:"更远"}],select:{}},{id:13,title:"您主要通过什么渠道来进行购物？",type:"radio",option:[{num:"0",value:"线上电商平台"},{num:"1",value:"线下实体门店"},{num:"2",value:"线上、线下较为平均"}],select:{}},{id:14,title:"您一般是通过什么途径来了解和促动自己进行商品购买？[可多选]",type:"checkbox",option:[{num:"0",value:"自己在网上浏览查询"},{num:"1",value:"通过网友和网红的推荐"},{num:"2",value:"通过朋友的介绍推荐"},{num:"3",value:"自己在实体门店的浏览咨询"}],select:{}},{id:15,title:"您或您的家庭日常购物的消费品类集中在哪些？[可多选]",type:"checkbox",option:[{num:"0",value:"居家生活"},{num:"1",value:"餐厨用具"},{num:"2",value:"个护健康"},{num:"3",value:"服饰服装"},{num:"4",value:"品质箱包"},{num:"5",value:"文具办公"},{num:"6",value:"新鲜果蔬"},{num:"7",value:"休闲食品"},{num:"8",value:"米面杂粮"},{num:"9",value:"生活电器"},{num:"10",value:"3C数码"}],select:{}},{id:16,title:"您日常逛街时消费购物的金额范围一般是多少？",type:"radio",option:[{num:"0",value:"0-50元"},{num:"1",value:"50-100元"},{num:"2",value:"100-150元"},{num:"3",value:"150-200元"},{num:"4",value:"200-500元"},{num:"5",value:"500-1000元"},{num:"6",value:"1000元以上"}],select:{}},{id:17,title:"您认为哪种促销方式最吸引您？[可多选]",type:"checkbox",option:[{num:"0",value:"满赠券（比如：消费满***元获赠**一件）"},{num:"1",value:"满减券（比如：消费满***元减**元）"},{num:"2",value:"满额换购（比如：消费满***元加**元换购**商品一件）"},{num:"3",value:"满额抽奖（比如：消费满***元参加抽奖）"},{num:"4",value:"折扣（比如：全场*折，消费满***元*折）"},{num:"5",value:"限时秒杀（比如：单品直降***元，仅限*天）"},{num:"6",value:"其他，请填写",type:"custom",inputVal:""}],select:{}},{id:18,title:"泰然城每周都有促销商品，请问对于促销商品您希望通过什么方式了解？[可多选]",type:"checkbox",option:[{num:"0",value:"短信"},{num:"1",value:"邮箱"},{num:"2",value:"宣传单邮寄上门"},{num:"3",value:"微信公众号"},{num:"4",value:"微信订阅号"},{num:"5",value:"微博"},{num:"6",value:"抖音"},{num:"7",value:"App推送"},{num:"8",value:"其他，请填写",type:"custom",inputVal:""}],select:{}},{id:19,title:"您想要在门店获得的商品、体验、定期活动等？",type:"custom",option:[{num:"0",value:"请任意填写",type:"custom",inputVal:""}],select:{}}],phone:"",phoneFlag:!1,submitFlag:!1,guideLead:!1},u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(u.default?(0,u.default)(e,t):e.__proto__=t)}(a,p.Component),d(a,[{key:"render",value:function(){var t=this,a=this.state,n=a.answers,u=a.phone,o=a.phoneFlag,i=a.submitFlag,c=a.guideLead;console.log(n);var s=n.map(function(e,a){return v.default.createElement("li",{key:a,className:"each-one each-one"+a},v.default.createElement("div",{className:"title"},v.default.createElement("span",{className:"c-cdred star"},"* "),v.default.createElement("span",null,e.id,"."),e.title),e.option.map(function(l,n){return v.default.createElement("div",{key:n},v.default.createElement("div",{className:"answer-title"},l.title),"radio"===e.type?v.default.createElement("div",{className:"option"},v.default.createElement("input",{checked:!!e.select[l.num],id:"color-input-radio"+a+"_"+n,className:"color-input color-input-radio",onChange:function(){t.handleChange(a,l.num,e.type)},type:e.type}),v.default.createElement("label",{htmlFor:"color-input-radio"+a+"_"+n}),v.default.createElement("span",null,l.value),!!l.type&&v.default.createElement("div",{className:"custom"},v.default.createElement("input",{type:"text",value:l.inputVal,onChange:function(e){t.handleCustomInput(e,a,l.num,"radio")},style:"boolean"==typeof e.select[l.num]?{border:"1px solid red"}:{}}),"boolean"==typeof e.select[l.num]&&v.default.createElement("span",{className:"c-fs10 c-cdred"},"请输入1~20个字符"))):"checkbox"===e.type?v.default.createElement("div",{className:"option"},v.default.createElement("input",{checked:!!e.select[l.num],id:"color-input-checkbox"+a+"_"+n,className:"color-input color-input-checkbox",onChange:function(){t.handleChange(a,l.num,e.type)},type:e.type}),v.default.createElement("label",{htmlFor:"color-input-checkbox"+a+"_"+n}),v.default.createElement("span",null,l.value),l.type&&v.default.createElement("div",{className:"custom"},v.default.createElement("input",{type:"text",value:l.inputVal,onChange:function(e){t.handleCustomInput(e,a,l.num)},style:"boolean"==typeof e.select[l.num]?{border:"1px solid red"}:{}}),"boolean"==typeof e.select[l.num]&&v.default.createElement("span",{className:"c-fs10 c-cdred"},"请输入1~20个字符"))):v.default.createElement("div",{className:"option"},v.default.createElement("span",null,l.value),l.type&&v.default.createElement("div",{className:"custom",style:{marginLeft:"0"}},v.default.createElement("input",{type:"text",value:l.inputVal,onChange:function(e){t.handleCustomInput(e,a,l.num,"custom")},style:"boolean"==typeof e.select[l.num]?{border:"1px solid red"}:{}}),!e.select[l.num]&&i&&v.default.createElement("span",{className:"c-fs10 c-cdred"},"请输入1~20个字符"))))}),3==a&&i&&((0,l.default)(e.select).length||n[a].select[9]?n[a].select[9]?(0,l.default)(e.select).length<2?v.default.createElement("div",{className:"error-tip"},"请选择选项"):"":v.default.createElement("div",{className:"error-tip"},"请选择产品"):v.default.createElement("div",{className:"error-tip"},"请选择选项")),8==a&&i&&((0,l.default)(e.select).length||n[a].select[4]?n[a].select[4]?(0,l.default)(e.select).length<2?v.default.createElement("div",{className:"error-tip"},"请选择选项"):"":v.default.createElement("div",{className:"error-tip"},"请选择产品"):v.default.createElement("div",{className:"error-tip"},"请选择选项")),3!=a&&8!=a&&18!=a&&!(0,l.default)(e.select).length&&i&&v.default.createElement("div",{className:"error-tip"},"请选择选项"))});return v.default.createElement("div",{"data-page":"question-naire"},c?v.default.createElement("div",{className:"guide-leade",style:{minHeight:e(window).height()}},v.default.createElement("img",{src:"../src/img/activity/questionnaire/guide-01.jpg"}),v.default.createElement("img",{src:"../src/img/activity/questionnaire/guide-02.jpg"}),v.default.createElement("img",{src:"../src/img/activity/questionnaire/guide-03.jpg"})):v.default.createElement("div",{className:"question-naire",style:{minHeight:e(window).height()}},v.default.createElement("div",{className:"question-naire-title-wraper"},v.default.createElement("div",{className:"question-naire-title"},"泰然城中贸广场问卷调查"),v.default.createElement("div",{className:"question-naire-content"},"亲爱的顾客：",v.default.createElement("br",null),"        您好！泰然城中贸广场店马上就要盛大开幕了。我们欣喜的成为了您生活圈的一员。泰然城是一家一站式品质生活综合服务体验馆，集生活家居休闲娱乐于一体，这里有咖啡吧、书吧，家居生活、数码家电、美妆个护、进口美食、旅行办公等商品。 为了更好的给您提供完善的购物体验，我们特别设计了这份问卷。完成问卷并注册成为会员即可获得精美礼品一份。",v.default.createElement("span",{className:"c-fb thank"},"非常感谢您的配合！"))),v.default.createElement("ul",{className:"question-naire-wraper"},s,v.default.createElement("li",{className:"each-one"},v.default.createElement("div",{className:"title"},"泰然城中贸广场店开业在即，开业月多款商品钜惠来袭，欢迎您入店选购！",v.default.createElement("br",null),"地址：中贸街于南关正街交叉口西100米（原中贸广场售楼中心）"),v.default.createElement("div",{className:"title"},v.default.createElement("span",{className:"c-cdred"},"* "),"您的联系方式：电话",v.default.createElement("div",{className:"phone-input-wraper"},v.default.createElement("input",{className:"phone-input",value:u,maxLength:"11",onChange:function(e){t.handlePhoneNum(e)},onBlur:function(e){t.handlePhoneNumBlur(e)},type:"text"}),o&&v.default.createElement("div",{className:"error-tip"},"请输入正确的电话号码"))),v.default.createElement("button",{className:"button",onClick:this.submit},"点 击 提 交"))),v.default.createElement("div",{className:"trc-img"},v.default.createElement("img",{src:"../src/img/activity/questionnaire/trc-thank.png"}))))}}]),a}();t.default=b}).call(this,a("OOjC"))}}]);