(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{"6KBI":function(e,t,a){e.exports={navigation:"-GcTMVsHnQ8ZN9wyaMDM8",navLink:"_34hXzZqpjrcRq-zXCa8S_r",navIcon:"jOGBXYpx8POZ0Fzp-ANWY",navActive:"_31XRP1LVDRy66_G3mP98Cb",navText:"_22jXAgDOLy_E7T2Z3B12jP",navHome:"_3bdipicdKuDuLsN8Tfv_mc",navCart:"_3VtxokaVmmLuhL2Jd6j9rb",numIcon:"_6EyVoyYFYirsazqk7XRKB",navUser:"VU78Z-UMDvelUv-gK0RcG"}},BSod:function(e,t,a){e.exports={oneStrip:"AxDF-XHZsTk0-KjPNrb4C",specIcon:"NYd6zGgAF8e5U3P1TFGBD",specIconImg:"_14k_5umDVrwy84gYXYbm1w",stripText:"_3AV4N3TJZwgcgR-4Zp9lYr",stripTextLeft:"_2JV--vbKk8m1aiNmM4YfKA",stripTextRight:"_2NZ78h_nJY6TVGYbhs3BuO",redPoint:"_1L-zyKk23waCHWbIjVmm2X",rightIcon:"_3GSj51qfLWlo-rBNpJejih"}},dmKM:function(e,t,a){"use strict";var n=l(a("Zx67")),r=l(a("kiBT")),i=l(a("OvRC")),u=l(a("pFYg")),o=l(a("C4MV"));function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,o.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a("U7vG"),d=m(c),f=a("Zfgq"),p=m(a("6KBI"));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,u.default)(t))&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=Array(i),o=0;o<i;o++)u[o]=arguments[o];return a=r=v(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(u))),r.replaceUrl=function(e,t){t.preventDefault(),f.browserHistory.replace(e)},v(r,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,u.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}(t,c.Component),s(t,[{key:"render",value:function(){return d.default.createElement("div",{className:p.default.navigation},d.default.createElement(f.Link,{to:"/homeIndex",className:p.default.navLink,onClick:this.replaceUrl.bind(this,"/homeIndex"),activeClassName:p.default.navActive},d.default.createElement("div",{className:p.default.navIcon+" "+p.default.navHome}," "),d.default.createElement("div",{className:p.default.navText},"推荐")),d.default.createElement(f.Link,{to:"/shopCart",className:p.default.navLink,onClick:this.replaceUrl.bind(this,"/shopCart"),activeClassName:p.default.navActive},d.default.createElement("div",{className:p.default.navIcon+" "+p.default.navCart}),d.default.createElement("div",{className:p.default.navText},"购物袋")),d.default.createElement(f.Link,{to:"/userCenter",className:p.default.navLink,onClick:this.replaceUrl.bind(this,"/userCenter"),activeClassName:p.default.navActive},d.default.createElement("div",{className:p.default.navIcon+" "+p.default.navUser}," "),d.default.createElement("div",{className:p.default.navText},"我的")))}}]),t}();t.default=h},idvL:function(e,t,a){"use strict";var n=s(a("Zx67")),r=s(a("kiBT")),i=s(a("OvRC")),u=s(a("pFYg")),o=s(a("C4MV")),l=s(a("woOf"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UserOrderStatus=t.UserOrder=void 0;var c=l.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,o.default)(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=a("U7vG"),p=L(f),m=a("Zfgq"),v=a("4n+p"),h=a("f2Hk"),g=L(a("dmKM")),_=a("zpSi"),E=a("d2xe"),N=a("5qLU"),y=a("nztU"),C=L(a("BSod"));function L(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,u.default)(t))&&"function"!=typeof t?e:t}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,u.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}var I={uc_getUserInfo:{url:N.UCENTER+"/user"},getData:{url:N.WXAPI+"/getMoreCount",method:"get"},eCardNum:{url:"/eCard/card/account/info",method:"get"},orderNum:{url:N.WXAPI+"/user/order/count",method:"POST"}},w=(0,h.concatPageAndType)("userCenter"),T=(0,h.actionAxios)("userCenter"),U=function(e){function t(){var e,a,r;k(this,t);for(var i=arguments.length,u=Array(i),o=0;o<i;o++)u[o]=arguments[o];return a=r=b(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(u))),r.getData=function(){r.props.getUserInfo(),r.props.getPageData(),r.props.getECardNum(),r.props.getorderNum()},b(r,a)}return x(t,f.Component),d(t,[{key:"componentWillMount",value:function(){this.props.isLogin?this.getData():this.props.resetState()}},{key:"componentWillReceiveProps",value:function(e){!this.props.isLogin&&e.isLogin&&this.getData()}},{key:"render",value:function(){return p.default.createElement("div",{"data-page":"user-center"},p.default.createElement(D,{data:this.props.userInfo,isLogin:this.props.isLogin}),p.default.createElement(P,{data:this.props.statusData,isLogin:this.props.isLogin}),p.default.createElement(O,{data:this.props.stripData1,isLogin:this.props.isLogin}),p.default.createElement(O,{data:this.props.stripData2,isLogin:this.props.isLogin}),p.default.createElement(g.default,null))}}]),t}(),D=function(e){function t(){return k(this,t),b(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return x(t,f.Component),d(t,[{key:"render",value:function(){var e=this.props,t=e.isLogin,a=e.data;return p.default.createElement("div",{className:"user-info"},p.default.createElement(m.Link,{className:"user-avatar",to:t?"/userInfo":"/login?redirect_uri=%2FuserCenter"},p.default.createElement("img",{src:t&&a.avatar?a.avatar:"/src/img/icon/avatar/default-avatar-gray.png",alt:"用户头像"})),p.default.createElement(m.Link,{className:"user-name",to:t?"/userInfo":"/login?redirect_uri=%2FuserCenter"},t&&a?a.nickname?a.nickname:a.phone.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2"):"立即登录"))}}]),t}(),P=function(e){function t(){return k(this,t),b(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return x(t,f.Component),d(t,[{key:"render",value:function(){return p.default.createElement("div",{className:"all-order"},p.default.createElement(A,{isLogin:this.props.isLogin}),p.default.createElement(S,{orderStatus:this.props.data,isLogin:this.props.isLogin}))}}]),t}(),A=t.UserOrder=function(e){function t(){return k(this,t),b(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return x(t,f.Component),d(t,[{key:"render",value:function(){return p.default.createElement(m.Link,{className:"user-order c-clrfix",to:this.props.isLogin?"/tradeList/0":"/login?redirect_uri=%2FuserCenter"},p.default.createElement("div",{className:"c-fl"},"我的订单"),p.default.createElement("div",{className:"c-fr"},p.default.createElement("span",null,"查看全部"),p.default.createElement("i",{className:"arrow-right-icon"}," ")))}}]),t}(),S=t.UserOrderStatus=function(e){function t(){var e,a,r;k(this,t);for(var i=arguments.length,u=Array(i),o=0;o<i;o++)u[o]=arguments[o];return a=r=b(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(u))),r.getHtml=function(){var e=r.props,t=e.orderStatus,a=e.isLogin;return t.map(function(e,t){return p.default.createElement(M,{key:t,data:e,isLogin:a})})},b(r,a)}return x(t,f.Component),d(t,[{key:"render",value:function(){return p.default.createElement("div",{className:"order-status-list"},this.getHtml())}}]),t}(),M=function(e){function t(){return k(this,t),b(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return x(t,f.Component),d(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.isLogin;return p.default.createElement(m.Link,{className:"order-icon c-tc",to:a?t.url:"/login?redirect_uri=%2FuserCenter"},p.default.createElement("i",{className:"icon-img "+t.iconClass},a&&t.num?p.default.createElement("i",{className:"order-status-number"},t.num):""),p.default.createElement("span",null,t.text))}}]),t}(),O=function(e){function t(){return k(this,t),b(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return x(t,f.Component),d(t,[{key:"render",value:function(){var e=this,t=this.props.data.map(function(t,a){return p.default.createElement("div",{key:a,className:"strip-grid"},p.default.createElement(R,{data:t,isLogin:e.props.isLogin}))});return p.default.createElement("div",{className:"strip-entry"},t)}}]),t}(),R=function(e){function t(){return k(this,t),b(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return x(t,f.Component),d(t,[{key:"render",value:function(){var e=this.props.data;return p.default.createElement(_.LinkOrA,{className:C.default.oneStrip,link:this.props.isLogin||!e.needLogin?e.url:"/login?redirect_uri=%2FuserCenter",type:this.props.isLogin||!e.needLogin?e.type:"link"},p.default.createElement("div",{className:C.default.specIcon},p.default.createElement("img",{src:e.iconUrl,className:C.default.specIconImg})),p.default.createElement("div",{className:"c-clrfix "+C.default.stripText},p.default.createElement("span",{className:C.default.stripTextLeft},e.text),e.active?p.default.createElement("span",{className:C.default.stripTextRight},e.num,e.active&&e.point&&p.default.createElement("i",{className:C.default.redPoint}," ")):""),p.default.createElement("div",null," ",p.default.createElement("i",{className:C.default.rightIcon}," ")))}}]),t}();!function(e){function t(){return k(this,t),b(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}x(t,f.Component),d(t,[{key:"render",value:function(){var e=this.props.data;return p.default.createElement(E.CustomerService,{className:C.default.oneStrip},p.default.createElement("div",{className:C.default.specIcon},p.default.createElement("img",{src:e.iconUrl,className:C.default.specIconImg})),p.default.createElement("div",{className:"c-clrfix "+C.default.stripText},p.default.createElement("span",{className:C.default.stripTextLeft},e.text),e.active?p.default.createElement("span",{className:C.default.stripTextRight},e.num,e.active&&p.default.createElement("i",{className:C.default.redPoint}," ")):""),p.default.createElement("div",null," ",p.default.createElement("i",{className:C.default.rightIcon}," ")))}}])}();t.default=(0,v.connect)(function(e,t){return c({},e.userCenter,e.global)},function(e,t){return{resetState:function(){e(w("initialState"))},getUserInfo:function(){var t=(0,y.getCookie)("token");e(T("userInfo",c({},I.uc_getUserInfo,{headers:{Authorization:"Bearer "+t},params:{needPhone:!0}})))},getPageData:function(){e(T("pageData",I.getData))},getECardNum:function(){e(T("eCard",I.eCardNum))},getorderNum:function(){e(T("orderNum",I.orderNum))}}})(U)}}]);