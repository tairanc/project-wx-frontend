(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{"2id7":function(e,t,a){},Yzof:function(e,t,a){"use strict";(function(e){var r=d(a("mvHQ")),n=d(a("Zx67")),i=d(a("kiBT")),l=d(a("OvRC")),s=d(a("pFYg")),o=d(a("woOf")),c=d(a("C4MV"));function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,c.default)(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),f=o.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},p=a("U7vG"),h=M(p),g=a("d2xe"),w=a("Zfgq"),y=a("4n+p"),v=a("6quk"),E=M(a("mtWM")),b=a("5qLU"),_=a("qeJi"),k=a("f2t5"),N=a("f2t5");function M(e){return e&&e.__esModule?e:{default:e}}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,s.default)(t))&&"function"!=typeof t?e:t}function z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,s.default)(t)));e.prototype=(0,l.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}a("2id7");var L,S={getDrawRecordList:{url:b.WXAPI+"/draw/getDrawRecordList",method:"get",headers:{"Cache-Control":"no-cache"}},getUserTask:{url:b.WXAPI+"/draw/getUserTask",method:"get",headers:{"Cache-Control":"no-cache"}},getActivityData:{url:b.WXAPI+"/draw/getActivityData",method:"get",headers:{"Cache-Control":"no-cache"}},getUserDrawNum:{url:b.WXAPI+"/draw/getUserDrawNum",method:"get",headers:{"Cache-Control":"no-cache"}},getMyPrizeRecord:{url:b.WXAPI+"/draw/getMyPrizeRecord",method:"get",headers:{"Cache-Control":"no-cache"}},getDrawResult:{url:b.WXAPI+"/draw/draw",method:"post",headers:{"Cache-Control":"no-cache"}},shareTask:{url:b.WXAPI+"/draw/shareTask",method:"post",headers:{"Cache-Control":"no-cache"}}},R=window.location.protocol+"//www.tairanmall.com/wap/activities/tai1111.html",T=k.platform.mall?"mall":k.platform.finance?"finance":"web",P=(L=T,{mall:"trmall://to_login?redirectUri="+encodeURIComponent(window.location.href)}[L]||"/login?redirect_uri="+location.href);function U(){"mall"===T?window.location.href=P:"finance"===T?window.location.href="https://jr-m.tairanmall.com/login?redirect_uri="+location.href:w.browserHistory.push("/login?redirect_uri="+location.href)}var W=(0,y.connect)(function(e){return f({},e.global)})(u=function(t){function a(t){D(this,a);var i=C(this,(a.__proto__||(0,n.default)(a)).call(this,t));return i.backReload=function(){window.addEventListener("popstate",function(e){self.location.reload()},!1);window.history.replaceState({title:"",url:"#"},"","#")},i.getDrawResult=function(t,a){E.default.request(f({},S.getDrawResult,{params:{activity_id:t},timeout:1e4})).then(function(t){var r=t.data;return a.goKinerLottery(function(){switch(e("."+r.data.prize_id)[0].id){case"0":return Math.floor(30*Math.random()+210);case"1":return Math.floor(30*Math.random()+255);case"2":return Math.floor(30*Math.random()+300);case"3":return Math.floor(30*Math.random()+345);case"4":return Math.floor(30*Math.random()+30);case"5":return Math.floor(30*Math.random()+75);case"6":return Math.floor(30*Math.random()+120);case"7":return Math.floor(30*Math.random()+165);default:return}}()),i.setState({drawResult:r.data,userDrawNum:r.data.draw_num,successFlag:!0})}).catch(function(r){console.log(r),i.setState({enableClick:!0}),r.response&&504!=r.response.status?(v.tip.show({msg:r.response.data.message||"服务器繁忙"}),a.stopKinerLottery(a.defNum),i.getDrawData("getUserDrawNum",t),"完成任务可获得额外抽奖机会"===r.response.data.message&&e(window).scrollTop(.6*e(window).height())):i.setState({timeout:!0})})},i.getDrawData=function(e,t,a){var r=i;E.default.request("getDrawRecordList"===e?f({},S.getDrawRecordList,{params:{activity_id:t}}):"getUserDrawNum"===e?f({},S.getUserDrawNum,{params:{activity_id:t}}):"getMyPrizeRecord"===e?f({},S.getMyPrizeRecord,{params:{activity_id:t,page_size:12,page:a}}):"getActivityData"===e?f({},S.getActivityData,{params:{activity_id:t}}):"getUserTask"===e?f({},S.getUserTask,{params:{activity_id:t}}):"shareTask"===e?f({},S.shareTask,{params:{activity_id:t}}):"").then(function(n){var l=n.data;switch(e){case"getDrawRecordList":return i.setState({drawRecordList:l.data.data});case"getUserDrawNum":return i.setState({userDrawNum:l.data});case"getMyPrizeRecord":return i.setState({myPrizeRecord:l.data,prizeList:1===a?l.data.data:r.state.prizeList.concat(l.data.data),isSending:!1});case"getActivityData":i.setState({activityData:l.data,update:!0});var s={title:l.data.share_title,desc:l.data.share_description,link:location.protocol+"//"+location.host+"/luckyDraw?activity_id="+t,imgUrl:l.data.share_image,success:function(){r.getDrawData("shareTask",t)},cancel:function(){}};return void(0,g.ShareConfig)(s);case"getUserTask":return i.setState({userTask:l.data});case"shareTask":return r.getDrawData("getUserDrawNum",t),void r.getDrawData("getUserTask",t);default:return}}).catch(function(e){console.log(e),v.tip.show({msg:e.response.data.message||"服务器繁忙"})})},i.handleRuleModal=function(){i.setState({ruleModal:!i.state.ruleModal})},i.handleCloseWinModal=function(){i.setState({winModal:!i.state.winModal})},i.handleTaskModal=function(){i.setState({taskModal:!i.state.taskModal})},i.handlePrizeModal=function(){i.setState({prizeModal:!i.state.prizeModal})},i.goMainUrl=function(){window.location.href=R},i.handleleadShare=function(){if(k.platform.mall||k.platform.finance)i.shareMsg();else{var e=i.props.location.query.activity_id;i.setState({leadShare:!i.state.leadShare}),_.browser.versions.weixin||setTimeout(function(){i.getDrawData("shareTask",e)},1e3)}},i.shareMsg=function(){var e=i,t=(_.browser.versions.iPhone,i.state.activityData),a=i.props.location.query.activity_id,n={title:t.share_title,content:t.share_description,icon:t.share_image,link:location.protocol+"//wx.tairanmall.com/luckyDraw?activity_id="+a};setTimeout(function(){e.getDrawData("shareTask",a)},1e3);var l=(0,N.base64encode)((0,N.utf16to8)((0,r.default)(n)));"mall"===T?window.location.href="trmall://share?params="+l:"finance"===T&&(window.location.href="trc://share?params="+l)},i.state={update:!1,ruleModal:!1,winModal:!1,taskModal:!1,prizeModal:!1,drawRecordList:"",userDrawNum:0,myPrizeRecord:"",prizeList:[],activityData:"",userTask:"",drawResult:"",enableClick:!0,leadShare:!1,successFlag:!1,timeout:!1,isSending:!1},i}return z(a,p.Component),m(a,[{key:"componentWillMount",value:function(){var e=this;this.backReload();var t=this.props.location.query.activity_id,a=_.browser.versions,r=a.iPhone,n=a.iPad,i=a.weixin,l=this,s=location.href.split("#")[0];i&&!n&&!r&&(0,g.getJSApi)(s),t||w.browserHistory.push("/"),this.getDrawData("getActivityData",t),setTimeout(function(){l.getDrawData("getDrawRecordList",t),o()}),this.getDrawData("getUserDrawNum",t);var o=function(){e.timer=setInterval(function(){e.getDrawData("getDrawRecordList",t)},6e4)}}},{key:"componentDidMount",value:function(){var e=this.props.location.query.activity_id;this.getDrawData("getMyPrizeRecord",e,1),this.getDrawData("getUserTask",e)}},{key:"componentWillUnmount",value:function(){e("body").css({overflow:"",position:""}),this.oneTimer=null}},{key:"render",value:function(){var e=this,t=this.state,a=t.update,r=t.ruleModal,n=t.drawRecordList,i=t.userDrawNum,l=t.myPrizeRecord,s=t.prizeList,o=t.activityData,c=t.userTask,d=t.winModal,u=t.taskModal,m=t.prizeModal,f=t.enableClick,p=t.drawResult,w=t.leadShare,y=t.successFlag,v=t.timeout,E=t.isSending,b=this.props.location.query.activity_id;return a?h.default.createElement("div",{"data-page":"lucky-draw",style:{minHeight:this.props.winHeight}},n&&h.default.createElement(K,{drawRecordList:n}),h.default.createElement("button",{className:"rule-btn",onClick:this.handleRuleModal},"规则"),h.default.createElement("div",{className:"draw-content"},h.default.createElement("div",{className:"top"}),h.default.createElement(A,{activityData:o,getDrawData:this.getDrawData,getDrawResult:this.getDrawResult,activity_id:b,enableClick:f,handleEnableClick:function(t){e.setState({enableClick:t})},handleWinModalStatus:this.handleCloseWinModal,successFlag:y,timeout:v,userDrawNum:i,isLogin:this.props.isLogin})),h.default.createElement("div",{className:"draw-footer"},h.default.createElement("img",{src:"/src/img/activity/20191111/renwu.png",onClick:this.handleTaskModal}),h.default.createElement("img",{src:"/src/img/activity/20191111/mine.png",onClick:this.handlePrizeModal}),h.default.createElement("img",{src:"/src/img/activity/20191111/go.png",onClick:this.goMainUrl})),c&&!(c instanceof Array)&&u&&h.default.createElement(x,{closeTaskModal:this.handleTaskModal,userTask:c,isLogin:this.props.isLogin,handleleadShare:this.handleleadShare}),l&&m&&h.default.createElement(I,{closePrizeModal:this.handlePrizeModal,myPrizeRecord:l,isLogin:this.props.isLogin,isSending:E,prizeList:s,getDrawData:this.getDrawData,activity_id:b,handleIsSending:function(t){e.setState({isSending:t})}}),h.default.createElement(O,{closeRuleModal:this.handleRuleModal,ruleModal:r,activityData:o}),h.default.createElement(j,{winModal:d,handleWinModalStatus:this.handleCloseWinModal,drawResult:p}),h.default.createElement(q,{leadShare:w,handleleadShare:function(){e.setState({leadShare:!w})}})):h.default.createElement(g.LoadingRound,null)}}]),a}())||u;t.default=W;var H=function(e){function t(e){D(this,t);var a=C(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.state={left:150+a.props.start+65*a.props.index},a.unMount=!1,a}return z(t,p.Component),m(t,[{key:"componentDidMount",value:function(){var e=this;window.requestAnimationFrame(function t(){if(!e.unMount){var a=e.state.left-.6;a<-(210-e.props.start)&&(a=150+e.props.start),e.setState({left:a},function(){window.requestAnimationFrame(t)})}})}},{key:"componentWillUnmount",value:function(){this.unMount=!0}},{key:"render",value:function(){var e=this.props,t=(e.index,e.item),a={left:this.state.left+"%"};return h.default.createElement("div",{className:"swiper-slide each-one",style:a},t.tel," 抽中了",t.prize_alias)}}]),t}(),K=function(e){function t(){var e,a,r;D(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return a=r=C(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(l))),r.getHtml=function(e,t){return e.map(function(e,a){return h.default.createElement(H,{index:a,key:a,item:e,start:t})})},C(r,a)}return z(t,p.Component),m(t,[{key:"render",value:function(){var e=this.props.drawRecordList,t=e&&e.length?Math.floor(e.length/2):0;return e&&e.length?h.default.createElement("div",{className:"winning-radio"},h.default.createElement("div",{className:"swiper-container",ref:"swiperWinningRadio"},h.default.createElement("div",{className:"swiper-wrapper",id:"swiperWinningRadioWrapper"},this.getHtml(e.slice(0,t),0))),h.default.createElement("div",{className:"swiper-container",ref:"swiperWinningRadio2"},h.default.createElement("div",{className:"swiper-wrapper"},this.getHtml(e.slice(t,e.length),10)))):h.default.createElement("div",{className:"winning-radio"})}}]),t}(),A=function(e){function t(){return D(this,t),C(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return z(t,p.Component),m(t,[{key:"componentDidMount",value:function(){var e=this;this.KinerLottery=new KinerLottery({rotateNum:5,body:".draw",direction:0,disabledHandler:function(e){switch(e){case"noStart":U();break;case"completed":alert("活动已结束")}},clickCallback:function(){if(e.props.enableClick&&(e.props.handleEnableClick(!1),e.props.getDrawResult(e.props.activity_id,this),e.props.userDrawNum)){this.goKinerLottery(Math.floor(30*Math.random()+210))}},KinerLotteryHandler:function(t){e.props.successFlag?(e.props.handleEnableClick(!0),e.props.handleWinModalStatus(),e.props.getDrawData("getMyPrizeRecord",e.props.activity_id,1)):e.props.timeout&&(v.tip.show({msg:"您的网络丢了，我帮您重新刷一下"}),setTimeout(function(){location.reload()},2e3))}})}},{key:"render",value:function(){var e=this.props,t=e.activityData,a=e.isLogin,r=e.userDrawNum,n=t.prize_list&&t.prize_list.map(function(e,t){return h.default.createElement("div",{className:"each-prize  each-prize"+t+" "+e.id,id:t,key:t},h.default.createElement("div",{className:"img-wraper"},h.default.createElement("img",{className:"prize-img",src:e.prize_image})))});return h.default.createElement("div",{className:"draw-area"},h.default.createElement("img",{src:"/src/img/activity/20191111/marquee.gif",className:"marquee-bg"}),h.default.createElement("img",{src:"/src/img/activity/20191111/turndate.png",className:"turndate-bg"}),h.default.createElement("div",{className:"draw-button inner KinerLotteryBtn "+(a?"start":"no-start")},h.default.createElement("div",{className:"button-text"},h.default.createElement("p",null,a?"点击":"登录"),h.default.createElement("p",null,"抽奖"))),h.default.createElement("div",{className:"draw"},h.default.createElement("div",{className:"draw-turntable outer KinerLottery KinerLotteryContent",style:{position:"relative"}},n,h.default.createElement("img",{src:"/src/img/activity/20191111/turntable.png",className:"draw-bg"})),a?h.default.createElement("div",{className:"tip c-fs12 c-tc"},"剩余",r,"次"):h.default.createElement("div",{className:"tip c-fs13 c-tc"},"登录后可查看抽奖机会")),h.default.createElement("div",{className:"draw-bottom"},h.default.createElement("img",{src:"/src/img/activity/20191111/turntable_bottom.png"})))}}]),t}(),x=function(e){function t(){var e,a,r;D(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return a=r=C(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(l))),r.beforeGoTask=function(e,t,a){if(e)if(t)location.href=R;else{var n=r[a]?r[a]:r.props[a]?r.props[a]:null;n&&n()}else r.goLogin()},r.goLogin=function(){U()},r.goMainMeeting=function(){location.href=R},r.goTradeList=function(){"mall"===T?location.href="trmall://myOrder?type=0&registLifecircle=true":"finance"===T?window.location.href="https://jr-m.tairanmall.com/tradeList/0":w.browserHistory.push("/tradeList/0")},C(r,a)}return z(t,p.Component),m(t,[{key:"render",value:function(){var e=this.props,t=e.userTask,a=(e.handleleadShare,e.isLogin),r=e.closeTaskModal;return h.default.createElement("div",{className:"task-area"},h.default.createElement(g.Shady,{clickHandle:r}),h.default.createElement("div",{className:"task-modal"},h.default.createElement("div",{className:"task-content"},h.default.createElement("img",{className:"task-top",src:"/src/img/activity/20191111/task_top.png"}),h.default.createElement("div",{className:"title c-fs14 c-cfff c-tc"},"做任务获抽奖机会"),h.default.createElement("img",{src:"/src/img/activity/20191111/task_close.png",className:"task-close",onClick:r}),t&&h.default.createElement("ul",{className:"task-list"},!!t.share.reward_times&&h.default.createElement("li",null,h.default.createElement("img",{className:"c-fl",src:"/src/img/activity/20191111/icon_share.png"}),h.default.createElement("div",{className:"c-dpib content"},h.default.createElement("p",{className:"c-fb"},"分享活动(次数 ",t.share.draw_times,"/1）"),h.default.createElement("span",null,"每天分享该活动可抽奖",t.share.reward_times,"次")),h.default.createElement("button",{className:"share-button",onClick:this.beforeGoTask.bind(this,a,t.share.finished,"handleleadShare")},t.share.finished?"再逛逛":"去分享")),!!t.shop_cart.reward_times&&h.default.createElement("li",null,h.default.createElement("img",{className:"c-fl",src:"/src/img/activity/20191111/icon_cart.png"}),h.default.createElement("div",{className:"c-dpib content"},h.default.createElement("p",{className:"c-fb"},"加入购物袋(次数 ",t.shop_cart.draw_times,"/2）"),h.default.createElement("span",null,"将任意商品加入购物袋可获得",t.shop_cart.reward_times,"次")),h.default.createElement("button",{className:"share-button",onClick:this.beforeGoTask.bind(this,a,t.shop_cart.finished,"goMainMeeting")},t.shop_cart.finished?"再逛逛":"去逛逛")),!!t.payment.reward_times&&h.default.createElement("li",null,h.default.createElement("img",{className:"c-fl",src:"/src/img/activity/20191111/icon_order.png"}),h.default.createElement("div",{className:"c-dpib content"},h.default.createElement("p",{className:"c-fb"},"购买下单(次数 ",t.payment.draw_times,"/2）"),h.default.createElement("span",null,"支付完成一笔订单可获得",t.payment.reward_times,"次")),h.default.createElement("button",{className:"share-button",onClick:this.beforeGoTask.bind(this,a,t.payment.finished,"goMainMeeting")},t.payment.finished?"再逛逛":"去逛逛")),!!t.rate.reward_times&&h.default.createElement("li",null,h.default.createElement("img",{className:"c-fl",src:"/src/img/activity/20191111/icon_evaluate.png"}),h.default.createElement("div",{className:"c-dpib content"},h.default.createElement("p",{className:"c-fb"},"晒图评价(次数 ",t.rate.draw_times,"/2）"),h.default.createElement("span",null,"评价订单并晒图可获得",t.rate.reward_times,"次")),h.default.createElement("button",{className:"share-button",onClick:this.beforeGoTask.bind(this,a,t.rate.finished,"goTradeList")},t.rate.finished?"再逛逛":"去晒图"))))))}}]),t}(),q=function(t){function a(){return D(this,a),C(this,(a.__proto__||(0,n.default)(a)).apply(this,arguments))}return z(a,p.Component),m(a,[{key:"render",value:function(){var t=this.props,a=t.leadShare,r=t.handleleadShare;return a?h.default.createElement("div",{className:"lead-share",style:{height:e(window).height()}},h.default.createElement(g.Shady,{clickHandle:r}),h.default.createElement("div",{className:"share-icon"},h.default.createElement("img",{src:"/src/img/activity/20181111/lead_img.png",className:"lead-img"}),h.default.createElement("img",{src:"/src/img/activity/20181111/ok_btn.png",className:"button",onClick:r}))):null}}]),a}(),I=function(t){function a(){return D(this,a),C(this,(a.__proto__||(0,n.default)(a)).apply(this,arguments))}return z(a,p.Component),m(a,[{key:"componentDidMount",value:function(){var t=this,a=this.props.activity_id;e(".myPrize-record-wrapper").bind("scroll.loadmore",function(){var r=t.props.myPrizeRecord.page,n=(r.total_page,r.current_page);e(this).scrollTop()>e(".myPrize-record ul").height()-e(".myPrize-record-wrapper").height()&&"下拉加载更多"===e(".add span").html()&&(t.props.handleIsSending(!0),t.props.getDrawData("getMyPrizeRecord",a,+n+1))})}},{key:"render",value:function(){var e=this.props,t=e.myPrizeRecord,a=e.isLogin,r=e.isSending,n=e.prizeList,i=e.closePrizeModal,l=t.page,s=l.total_page,o=l.current_page;return h.default.createElement("div",{className:"my-prize"},h.default.createElement(g.Shady,{clickHandle:i}),h.default.createElement("div",{className:"prize-modal"},h.default.createElement("div",{className:"myPrize-record"},h.default.createElement("div",{className:"myPrize-record-wrapper"},h.default.createElement("ul",{className:"c-clrfix"},a?n.length?n.map(function(e,t){return h.default.createElement("li",{className:"",key:t,style:t%2==1?{float:"right"}:{float:"left"}},h.default.createElement("div",{className:"c-tc prize-detail"},h.default.createElement("span",{className:"c-fb gift_title"},e.prize_alias),h.default.createElement("br",null),("0"===e.prize_type||"1"===e.prize_type||"2"===e.prize_type)&&h.default.createElement("span",null,h.default.createElement("span",{className:"sub_title"},e.arguments.use_condition),h.default.createElement("br",null)),h.default.createElement("span",{className:"c-fs10 c-c35"},e.created_at.substr(5))))}):h.default.createElement("div",{className:"no-prize"},h.default.createElement("img",{src:"/src/img/activity/20181111/no_prize.png"}),h.default.createElement("span",{className:"c-fs14 c-cc9 no-prize-tip"},"您还没有获得奖品哦")):h.default.createElement("div",{className:"no-prize"},h.default.createElement("button",{onClick:U,className:"button"},"登录查看"),h.default.createElement("span",{className:"c-fs14 c-cc9 no-prize-tip c-tc"},"登录后可以查看您的奖品哦"))),a&&!!n.length&&h.default.createElement("div",{className:"add"},o!=s?r?h.default.createElement("span",{className:"loading"},"加载中..."):h.default.createElement("span",{style:{height:"30px",lineHeight:"50px"}},"下拉加载更多"):null))),h.default.createElement("div",{className:"prize-close"},h.default.createElement("img",{src:"/src/img/icon/close/close-l-x-icon.png",onClick:i}))))}}]),a}(),O=function(e){function t(){return D(this,t),C(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return z(t,p.Component),m(t,[{key:"render",value:function(){var e=this.props,t=e.ruleModal,a=e.closeRuleModal,r=e.activityData;return t?h.default.createElement("div",{className:"rule"},h.default.createElement(g.Shady,{clickHandle:a}),h.default.createElement("div",{className:"rule-modal"},h.default.createElement("div",null,h.default.createElement("button",{className:"close-rule-button",onClick:a}),h.default.createElement("div",{className:"rule-content",dangerouslySetInnerHTML:{__html:r.activity_rule}}),h.default.createElement("button",{className:"sure-button",onClick:a})))):null}}]),t}(),j=function(t){function a(){var e,t,r;D(this,a);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return t=r=C(this,(e=a.__proto__||(0,n.default)(a)).call.apply(e,[this].concat(l))),r.goWinUrl=function(){var e=r.props.drawResult;if("mall"===T)location.href="trmall://getCouponBag?registLifecircle=true&type="+("3"===e.type?"redPacket":"coupon");else{var t="3"===e.type?"/redList":"/couponList";"finance"===T?window.location.href="https://jr-m.tairanmall.com"+t:w.browserHistory.push(t)}},C(r,t)}return z(a,p.Component),m(a,[{key:"render",value:function(){var t=this.props,a=t.winModal,r=t.handleWinModalStatus,n=t.drawResult;return a?h.default.createElement("div",{className:"win"},h.default.createElement(g.Shady,null),h.default.createElement("div",{className:" modal-bg"},"0"===e("."+n.prize_id)[0].id?h.default.createElement("div",{className:"losing-lottery"},h.default.createElement("img",{src:"/src/img/activity/20191111/lose_bg.png"}),h.default.createElement("a",{className:"button button-center",href:R})):h.default.createElement("div",{className:"win-modal"},h.default.createElement("div",{className:"content"},h.default.createElement("img",{src:n.prize_image})),h.default.createElement("p",{className:"title"},n.prize_alias),h.default.createElement("a",{className:"button button-left",href:R}),h.default.createElement("button",{className:"button button-right",onClick:this.goWinUrl})),h.default.createElement("button",{className:"close",onClick:r}))):null}}]),a}()}).call(this,a("OOjC"))},mJVD:function(e,t,a){(function(e){!function(e,t,a){var r={rotateNum:5,body:"",disabledHandler:function(){},clickCallback:function(){},KinerLotteryHandler:function(e){}};function n(e){this.opts=a.extend(!0,{},r,e),this.doing=!1,this.init()}n.prototype.setOpts=function(e){this.opts=a.extend(!0,{},r,e),this.init()},n.prototype.init=function(){var e=this;this.defNum=360*this.opts.rotateNum,a(".KinerLotteryBtn").on("click",function(t){if(a(this).hasClass("start")&&!e.doing)e.opts.clickCallback.call(e);else{var r=a(this).hasClass("no-start")?"noStart":a(this).hasClass("completed")?"completed":"illegal";e.opts.disabledHandler(r)}}),a(this.opts.body).find(".KinerLotteryContent").get(0).addEventListener("webkitTransitionEnd",function(){e.doing=!1;var t=a(e.opts.body).attr("data-deg");0==e.opts.direction?(a(e.opts.body).attr("data-deg",360-t),a(e.opts.body).find(".KinerLotteryContent").css({"-webkit-transition":"none","-o-transition":"none","-moz-transition":"none",transition:"none","-webkit-transform":"rotate("+t+"deg)","-o-transform":"rotate("+t+"deg)","-moz-transform":"rotate("+t+"deg)",transform:"rotate("+t+"deg)"}),e.opts.KinerLotteryHandler(360-t)):(a(e.opts.body).attr("data-deg",t),a(e.opts.body).find(".KinerLotteryContent").css({"-webkit-transition":"none","-o-transition":"none","-moz-transition":"none",transition:"none","-webkit-transform":"rotate("+-t+"deg)","-o-transform":"rotate("+-t+"deg)","-moz-transform":"rotate("+-t+"deg)",transform:"rotate("+-t+"deg)"}),e.opts.KinerLotteryHandler(t))})},n.prototype.goKinerLottery=function(e){var t=e+this.defNum,r=0==this.opts.direction?t:-t;this.doing=!0,a(this.opts.body).find(".KinerLotteryBtn").addClass("doing"),a(this.opts.body).find(".KinerLotteryContent").css({transition:"all 5s","-webkit-transition":"all 5s","-o-transition":"all 5s","-moz-transition":"all 5s",transform:"rotate("+r+"deg)","-webkit-transform":"rotate("+r+"deg)","-o-transform":"rotate("+r+"deg)","-moz-transform":"rotate("+r+"deg)"}),a(this.opts.body).attr("data-deg",e)},n.prototype.stopKinerLottery=function(e){var t=e+this.defNum,r=0==this.opts.direction?t:-t;this.doing=!1,a(this.opts.body).find(".KinerLotteryBtn").addClass("doing"),a(this.opts.body).find(".KinerLotteryContent").css({"-webkit-transition":"all 0s","-o-transition":"all 0s","-moz-transition":"all 0s",transition:"all 0s","-webkit-transform":"rotate("+r+"deg)","-o-transform":"rotate("+r+"deg)","-moz-transform":"rotate("+r+"deg)",transform:"rotate("+r+"deg)"}),a(this.opts.body).attr("data-deg",e)},e.KinerLottery=n}(window,document,e)}).call(this,a("OOjC"))}}]);